if (self.CavalryLogger) { CavalryLogger.start_js(["b7CxI"]); }

__d("MWUIThreadConnectivityData.bs",["requireCond","cr:1549235"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1549235").useHook;f.$MWLSThreadConnectivityData$OR$MWMSThreadConnectivityData$requireCond=b("cr:1549235");f.useHook=a}),null);
__d("MWUIThreadEmoji.bs",["requireCond","cr:1449027"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1449027").useEmoji;f.$MWLSThreadEmoji$OR$MWMSThreadEmoji$requireCond=b("cr:1449027");f.useEmoji=a}),null);
__d("XMessagingGetPollOptionsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/mercury/get_poll_options/",{question_id:{type:"FBID",required:!0}})}),null);
__d("XMessengerGroupPollingCreatePollController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/group_polling/create_poll/",{})}),null);
__d("XMessengerGroupPollingUpdateVoteController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messaging/group_polling/update_vote/",{})}),null);
__d("MWMSPollsHooks.bs",["ix","FBID.bs","bs_curry","bs_int64","React","MercuryIDs","bs_caml_format","AsyncRequest","MWThread_DEPRECATED.bs","recoverableViolation","MessengerParticipants.bs","LSMessagingThreadTypeUtil.bs","XMessagingGetPollOptionsController","XMessengerGroupPollingCreatePollController","XMessengerGroupPollingUpdateVoteController"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("XMessagingGetPollOptionsController"),j=b("XMessengerGroupPollingUpdateVoteController"),k=b("XMessengerGroupPollingCreatePollController");function a(a){var c=h.useState(function(){return}),d=c[1];c=c[0];h.useEffect(function(){var c=i.getURIBuilder().setFBID("question_id",b("FBID.bs").ofStringExn(b("bs_int64").to_string(a))).getURI();new(b("AsyncRequest"))(c).setHandler(function(a){var c=a.payload;return b("bs_curry")._1(d,function(a){return c.map(function(a){return{option_text:a.text,votes:a.voters.edges.map(function(a){a=b("MessengerParticipants.bs").getNow(b("MercuryIDs").getParticipantIDFromUserID(a.node.id));var c;if(a==null)c=g("98939");else{a=a.image_src;c=a==null?g("98939"):a}return{profile_picture_url:c}}),voted:a.viewer_has_voted,option_id:b("bs_caml_format").caml_int64_of_string(a.id)}})})}).setErrorHandler(function(a){return b("bs_curry")._1(d,function(a){return[]})}).send();return},[a,c,d]);return c}function c(a,c){a=b("MWThread_DEPRECATED.bs").toThreadKey(a);return h.useCallback(function(a){return function(d){var e=j.getURIBuilder().getURI();new(b("AsyncRequest"))(e).setMethod("POST").setData({question_id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(c)),selected_options:d.map(function(a){return b("FBID.bs").ofStringExn(b("bs_int64").to_string(a))}),new_options:a.map(function(a){return a[0]}),selected_new_option_indexes:a.reduce(function(a,b,c){if(b[1])return a.concat([c]);else return a},[-1])}).setAllowCrossPageTransition(!0).setHandler(function(a){if(a.payload.status==="failure"&&a.payload.showUser===!0){b("recoverableViolation")(a.payload.errorTitle+(" "+a.payload.errorMessage),"messenger_web_product");return 0}else return 0}).send();return 0}},[a,c])}function d(a){return h.useCallback(function(a){return function(c,d){var e=b("MWThread_DEPRECATED.bs").toThreadKey(a),f=b("LSMessagingThreadTypeUtil.bs").ofThreadId(a);f=b("LSMessagingThreadTypeUtil.bs").isSecure(f);if(f){b("recoverableViolation")("Not supported","messenger_web_product");return 0}else{f=k.getURIBuilder().getURI();new(b("AsyncRequest"))(f).setMethod("POST").setData({question_text:c,target_id:b("FBID.bs").ofStringExn(b("bs_int64").to_string(e)),option_text_array:d,option_is_selected_array:d.map(function(a){return 0})}).setAllowCrossPageTransition(!0).setHandler(function(a){if(a.payload.status==="failure"&&a.payload.showUser===!0){b("recoverableViolation")(a.payload.errorTitle+(" "+a.payload.errorMessage),"messenger_web_product");return 0}else return 0}).send();return 0}}})}f.usePollOptions=a;f.useUpdatePoll=c;f.useCreatePoll=d}),null);
__d("MWMSThreadHeaderAttribution.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){return}f.useHook=a}),null);
__d("MWChatLiveTyping.bs",["Promise","bs_caml_format","bs_caml_option","CurrentUser","FBMqttChannel"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){var e={};a!==void 0&&(e.to=b("bs_caml_format").caml_float_of_string(b("bs_caml_option").valFromOption(a)));e.sender_fbid=b("bs_caml_format").caml_float_of_string(b("CurrentUser").getID());e.state=d?1:0;typeof c!=="number"&&(c[0]!==757211935||(e.thread=c[1]));return JSON.stringify(e)}function c(a){b("FBMqttChannel").publish("/typing",a)["catch"](function(a){return b("Promise").resolve(0)});return 0}f.createPayload=a;f.publish=c}),null);
__d("MWMSThreadConnectivityData.bs",["React","bs_belt_Map","bs_belt_Option","bs_caml_option","CurrentUser","MWChatThreadId.bs","MessengerState.bs","MWThread_DEPRECATED.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("MWThread_DEPRECATED.bs").useIdExn(0);a=b("MessengerState.bs").useHook(b("CurrentUser").getID());var d=a.threads;return g.useMemo(function(){var a=b("MWChatThreadId.bs").getMercuryID(c);a=b("bs_belt_Map").get(d,a);return b("bs_belt_Option").mapWithDefault(a,void 0,function(a){return b("bs_caml_option").nullable_to_opt(a.thread_connectivity_data)})},[d,c])}f.useHook=a}),null);
__d("MWMSThreadEmoji.bs",["bs_belt_Map","bs_caml_option","CurrentUser","MWChatThreadId.bs","MessengerState.bs","MWThread_DEPRECATED.bs"],(function(a,b,c,d,e,f){"use strict";function a(a){a=b("MWThread_DEPRECATED.bs").useIdExn(0);var c=b("MessengerState.bs").useHook(b("CurrentUser").getID());c=b("bs_belt_Map").get(c.threads,b("MWChatThreadId.bs").getMercuryID(a));if(c!==void 0){a=b("bs_caml_option").valFromOption(c).custom_like_icon;if(a==null)return;else return a.emoji}}f.useEmoji=a}),null);
__d("MWMSSendTypingIndicator.bs",["bs_curry","React","bs_caml_option","MWChatLiveTyping.bs","MWThread_DEPRECATED.bs","MWUIThreadConnectivityData.bs","MWChatViewerChatVisibilityHook","ThreadConnectivityStatusGraphQLType.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function h(a,b,c){b=typeof b==="number"?!1:b[0]===757211935;if(a)if(b)return!0;else return c;else return!1}function a(a){var c=b("MWThread_DEPRECATED.bs").useIdExn(0),d=b("MWChatViewerChatVisibilityHook")(),e;if(typeof c==="number")e=void 0;else{a=c[0];e=a!==892012143&&a!==948354667?void 0:b("bs_caml_option").some(c[1])}a=b("bs_curry")._1(b("MWUIThreadConnectivityData.bs").useHook,0);var f=a!==void 0?a.connectivity_status===b("ThreadConnectivityStatusGraphQLType.bs").implicitOrTwoWayMessaging:!1;return g.useCallback(function(a){if(h(d,c,f))return b("MWChatLiveTyping.bs").publish(b("MWChatLiveTyping.bs").createPayload(e,c,a));else return 0},[c,d,f,e])}f.useHook=a}),null);
__d("MWChatTabContainer.bs",["fbt","bs_block","bs_curry","React","gkx","bs_js_dict","MWTheme.bs","qex","bs_caml_obj","BanzaiODS","MWUITheme.bs","bs_caml_array","JSResource","MercuryIDs","stylex","bs_belt_Option","bs_caml_format","bs_caml_option","CurrentUser","requireCond","UserActivity","MWChatBlurTab.bs","MWChatOpenTab.bs","MWChatCloseTab.bs","MWChatFocusTab.bs","MWUILeaveGroup.bs","MWUIThreadName.bs","CometLink.react","MWUIBlockStatus.bs","MWUIDeleteThread.bs","MWUIThreadFolder.bs","bs_js_null_undefined","MWChatCollapseTab.bs","MessengerWebEvent","BootloaderResource","MWUIChatThreadHook.bs","MWUIInThreadBanner.bs","MWUIStartPhoneCall.bs","MWChatHasTabContent.bs","MWThread_DEPRECATED.bs","MWUILoadThreadTitle.bs","MWUISendTextMessage.bs","MWUIThreadHasThread.bs","MWUILoadParticipants.bs","MWUIMarkThreadAsRead.bs","MWUIRTCDisplayStatus.bs","MWUIRepliedToMessage.bs","MWUIWebUrlCtaHandler.bs","recoverableViolation","MWUIChatContextBanner.bs","MWUIFetchMessagesPage.bs","MWUILoadThreadPicture.bs","MWUISendCometPostback.bs","MWUIThreadProfileLink.bs","ZenonUserActionLogger","MWChatIsMessageRequest.bs","MWUIGetServerMessageID.bs","MWUILoadThreadMessages.bs","MWUIThreadHasLeftGroup.bs","MessengerWebEntryPoint","unrecoverableViolation","MWUIContactCapabilities.bs","MWChatTabContainerShared.bs","MWUIThreadReportingToken.bs","MWUIThreadHasMoreMessages.bs","CometHeroHoldTrigger.react","MWChatPollXMAActionHandler.bs","MWUIAddParticipantsToGroup.bs","MWUIPresenceIsThreadActive.bs","MWUIThreadMuteExpireTimeMs.bs","RTWebLoggingSurfaceConvert.bs","useCometConfirmationDialog","MWChatBlockMessagesMutation","MWChatConfirmTabCloseDialog.bs","MWChatTabGroupWarningPolicy.bs","CometLazyDialogTrigger.react","MWChatComposerViewStateStore.bs","MWUIThreadUnreadMessageCount.bs","RTWebLoggingComponentConvert.bs","MWChatBusinessPageSettingHook.bs","MWChatBusinessWelcomePageHook.bs","MWUIUpdateParticipantNickname.bs","MessengerWebStgTypedLoggerLite.bs","MWChatXmaThirdPartyActionHandler.bs","CometTransientDialogProvider.react","CometProgressRingIndeterminate.react","MWChatCalculateIsMutedFromExpireTime.bs","MWChatComposerMessageRequestInfoText.bs","MWUILoadIsDisabledComposerThreadLevel.bs","XCometMessengerMediaControllerRouteBuilder","XCometMessengerPhotoControllerRouteBuilder","cr:1665192","cr:1536325"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j=b("JSResource")("MWChatBusinessIcebreaker.bs").__setRef("MWChatTabContainer.bs");function aa(a,c,d,e,f,g){g={icebreakers:a,onSend:c,pageID:d,threadTitle:e};f!==void 0&&(g.showWarning=b("bs_caml_option").valFromOption(f));return g}function ba(a){return i.createElement(b("BootloaderResource").read(j).make,a)}function a(a){var c=a.isTabFocused,d=a.hasContent,e=a.isMultitab,f=a.useSidebarChatStyles,j=a.searchResultMessages;a=a.isMainRegion;e=e!==void 0?e:!1;j!==void 0&&b("bs_caml_option").valFromOption(j);j=a!==void 0?a:!1;a=i.useRef(!1);var k=b("bs_curry")._1(b("MWUIMarkThreadAsRead.bs").useHook,0),l=b("bs_curry")._1(b("MWUIThreadReportingToken.bs").useHook,0),m=b("bs_curry")._1(b("MWUIThreadHasThread.bs").useHook,0),n=b("bs_curry")._1(b("MWUIThreadHasLeftGroup.bs").useHook,0),o=b("bs_curry")._1(b("MWUIThreadFolder.bs").useHook,0),p=b("bs_curry")._1(b("MWUIThreadUnreadMessageCount.bs").useHook,0),q=b("bs_curry")._1(b("MWUIThreadMuteExpireTimeMs.bs").useHook,0);q=b("MWChatCalculateIsMutedFromExpireTime.bs").useHook(q);var r=b("bs_curry")._1(b("MWUIThreadName.bs").useHook,0),s=[[246387948,b("bs_curry")._1(b("MWUILoadThreadMessages.bs").useMessageItems,0)]],t=b("bs_curry")._1(b("MWUIThreadHasMoreMessages.bs").useThreadHasMoreMessages,0),ca=b("bs_curry")._1(b("MWUIStartPhoneCall.bs").useMakeRTCCall,0),u=ca[0],da=b("bs_curry")._1(b("MWUIAddParticipantsToGroup.bs").useHook,0),v=i.useState(function(){return!1}),ea=v[1];i.useEffect(function(){c&&p>0&&b("UserActivity").isOnTab()&&b("UserActivity").isActive()&&b("bs_curry")._1(k,0);return},[c,p,k]);b("MWChatComposerViewStateStore.bs").useClearStore(0);var w=i.useRef(0),x=i.useRef(null),y=b("MWThread_DEPRECATED.bs").useIdExn(0),z;if(typeof y==="number")z=void 0;else{var A=y[0];z=A!==892012143&&A!==948354667?void 0:b("bs_caml_option").some(y[1])}b("bs_curry")._1(b("MWUIChatThreadHook.bs").useThread,y);A=b("bs_curry")._1(b("MWUILoadParticipants.bs").useMercuryParticipants,y);var B=A[0],fa=b("bs_curry")._1(b("MWUIFetchMessagesPage.bs").useFetchMessagesPage,0),C=b("bs_curry")._1(b("MWUIPresenceIsThreadActive.bs").useHook,0),D=b("bs_curry")._1(b("MWUIRepliedToMessage.bs").useCurrentlyRepliedToMessage,0),ga=D[2],ha=D[1];D=D[0];var ia=b("bs_curry")._1(b("MWUITheme.bs").useTheme,0),ja=function(a,c){c=a!==void 0?a:!1;a=w.current;if(typeof a==="number")if(c)return b("bs_curry")._1(fa,0);else return 0;else if(a.tag)return 0;else return b("bs_curry")._1(fa,0)},E=b("bs_curry")._1(b("MWUIBlockStatus.bs").useIsThreadBlocked,0),ka=typeof y==="number"||y[0]!==757211935?!1:b("bs_js_dict").entries(B).some(function(a){return b("bs_caml_obj").caml_equal(a[1].id,b("MercuryIDs").getParticipantIDFromUserID(b("CurrentUser").getID()))}),F=b("bs_curry")._1(b("MWUILoadThreadPicture.bs").useHook,0),G=b("bs_curry")._1(b("MWUILoadThreadTitle.bs").useHook,0),la=G[1];G=G[0];o=b("MWChatIsMessageRequest.bs").fn(o);var H=b("bs_curry")._1(b("MWUIThreadProfileLink.bs").useHook,0),I=y[0];if(I!==757211935)if(I!==892012143)if(G!==void 0&&F.length>0){I=b("bs_belt_Option").getWithDefault(r,"");var J=y[1],K=b("bs_caml_array").caml_array_get(F,0);I={title:G,rawTitle:I,actorID:J,href:H,profileImage:K};J=o?b("bs_block").__(1,[I]):b("bs_block").__(0,[I])}else J=1;else J=r!==void 0&&G!==void 0&&F.length>0?b("bs_block").__(2,[{title:G,rawTitle:r,actorID:y[1],href:H,profileImage:b("bs_caml_array").caml_array_get(F,0)}]):1;else if(v[0])J=0;else if(G!==void 0&&F.length>0){K=b("bs_belt_Option").getWithDefault(r,"");I={title:G,rawTitle:K,profileImages:F};J=o?b("bs_block").__(4,[I]):b("bs_block").__(3,[I])}else J=1;if(m){if(s.length!==1)H=!1;else{v=s[0];H=typeof v==="number"||v[0]!==246387948||v[1].length!==0?!1:t}if(s.length!==1)r=!1;else{K=s[0];r=typeof K==="number"||K[0]!==246387948||K[1].length!==0?!1:!t}if(typeof y==="number")o=[!0,H,!t,r];else{I=y[0];o=I!==757211935?I!==892012143?[!0,H,!t,r]:[!0,H,!t,r]:[!0,H,!t,r]}}else o=[!1,!0,!1,!0];m=o[3];v=o[1];K=b("bs_curry")._1(b("MWUIRTCDisplayStatus.bs").useHook,0);I=b("bs_curry")._3(b("MWUIChatContextBanner.bs").useContextBanner,y,F,o[2]);H=b("MWChatBusinessWelcomePageHook.bs").useMessengerBusinessWelcomePage(y,m);t=b("MWChatBusinessPageSettingHook.bs").useMessengerBusinessPageSetting(y,"STRUCTURED_MENU_ENABLED");r=b("bs_curry")._1(b("MWUILoadIsDisabledComposerThreadLevel.bs").useHook,y);F=b("MWChatBusinessPageSettingHook.bs").useMessengerBusinessPageSetting(y,"COMPOSER_INPUT_DISABLED");var L=b("gkx")("1277703"),M=b("gkx")("1612202")?4:0,N;if(E!==void 0){var O=E;if(typeof y==="number")N=M;else{var P=y[0];if(P!==757211935)if(P!==892012143)N=P!==948354667||!O?M:b("bs_block").__(0,[y[1],l]);else{P=r!==void 0?r:F;r=0;L&&O?N=b("bs_block").__(1,[y[1],l]):r=1;if(r===1)if(H!==void 0){F=b("bs_caml_option").valFromOption(H).null_state_cta;N=F!==void 0?b("bs_block").__(2,[b("bs_caml_option").valFromOption(F),G]):P===!0?1:M}else N=P?1:M}else N=n?2:M}}else N=3;L=b("MWChatHasTabContent.bs").useHook(0);var Q=b("MWChatCloseTab.bs").useHook(b("MessengerWebEntryPoint").UNKNOWN),R=b("MWChatCollapseTab.bs").useHook(b("MessengerWebEntryPoint").UNKNOWN),ma=b("MWChatOpenTab.bs").useHook_DEPRECATED(b("MessengerWebEntryPoint").UNKNOWN),na=b("MWChatFocusTab.bs").useHook(b("MessengerWebEntryPoint").UNKNOWN),oa=b("MWChatBlurTab.bs").useHook(b("MessengerWebEntryPoint").UNKNOWN);O=b("useCometConfirmationDialog")();var pa=O[0],qa=b("bs_curry")._1(b("MWUILeaveGroup.bs").useHook,0),ra=function(a){typeof y==="number"?b("recoverableViolation")("Trying to leave non-group thread","messenger_comet"):y[0]!==757211935?b("recoverableViolation")("Trying to leave non-group thread","messenger_comet"):b("bs_curry")._2(qa,y[1],a);return b("bs_curry")._1(Q,y)};b("MWChatTabGroupWarningPolicy.bs").useGroupEntranceWarningEffect(y,ra,function(a){return b("bs_curry")._1(Q,y)},function(a){return b("bs_curry")._1(ma,y)});var sa=function(a){a=x.current;if(a==null)return 0;else return a.scrollToBottom()},ta=b("bs_curry")._1(b("MWUIUpdateParticipantNickname.bs").useHook,0),S=b("MWChatXmaThirdPartyActionHandler.bs").useHandler(0),ua=b("MWChatPollXMAActionHandler.bs").useHandler(0),va=b("bs_curry")._1(b("MWUISendTextMessage.bs").useSendTextMessage,0),wa=b("bs_curry")._1(b("MWUIDeleteThread.bs").useDeleteThread,0),xa=b("bs_curry")._1(b("MWUIWebUrlCtaHandler.bs").useShowWebViewDialog,0),ya=b("bs_curry")._1(b("MWUISendCometPostback.bs").useSendCometPostback,0),za=b("bs_curry")._1(L,y),T=y[1],Aa=function(a){if(p>0&&w.current===0)return b("bs_curry")._1(k,0);else return 0};r=function(a){b("bs_curry")._1(k,0);return sa(0)};F=i.useCallback(function(a){if(za)return b("bs_curry")._3(pa,b("MWChatConfirmTabCloseDialog.bs").content,function(a){return b("bs_curry")._1(Q,y)},function(a){return 0});else return b("bs_curry")._1(Q,y)},[y,za,pa,Q]);P=i.useCallback(function(a){b("BanzaiODS").bumpEntityKey(3185,"mwchat_header","minimize");a=typeof y==="number"||y[0]!==757211935?null:y[1];b("MessengerWebStgTypedLoggerLite.bs").log({event_name:b("MessengerWebEvent").MINIMIZE_CHAT_TAB,other_user_fbid:b("bs_js_null_undefined").fromOption(z),thread_fbid:a});return b("bs_curry")._1(R,y)},[y,R]);n=i.useCallback(function(a){return b("bs_curry")._1(R,y)},[R,y]);M=function(d){if(typeof d==="number")if(d>=-303153203)if(d!==-299071693)if(d>=441686767)if(d>=1073450094){b("BanzaiODS").bumpEntityKey(3185,"mwchat_settings","delete_conv");b("bs_curry")._1(wa,y);return b("bs_curry")._1(Q,y)}else{Aa(0);return b("bs_curry")._1(na,y)}else if(d>=-40606993)return b("bs_curry")._1(oa,y);else return b("bs_curry")._1(ea,function(a){return!a});else if(typeof y==="number")return b("unrecoverableViolation")("Attempted to call unsupported thread type","messenger_comet");else{var c=y[0];if(c!==757211935)if(c!==948354667)return b("unrecoverableViolation")("Attempted to call unsupported thread type","messenger_comet");else{b("ZenonUserActionLogger").logClick({component:b("bs_curry")._1(b("RTWebLoggingComponentConvert.bs").converter.toJS,1),surface:b("bs_curry")._1(b("RTWebLoggingSurfaceConvert.bs").converter.toJS,3)});return b("bs_curry")._3(u,!0,y[1],"comet_chattab_video_button")}else{b("ZenonUserActionLogger").logClick({component:b("bs_curry")._1(b("RTWebLoggingComponentConvert.bs").converter.toJS,1),surface:b("bs_curry")._1(b("RTWebLoggingSurfaceConvert.bs").converter.toJS,3)});return b("bs_curry")._3(u,!0,y[1],"comet_chattab_video_button")}}else if(d!==-1023538157)if(d>=-558830706)if(d>=-447262787)return ja(!0,0);else if(typeof y==="number")return b("unrecoverableViolation")("Attempted to call unsupported thread type","messenger_comet");else{c=y[0];if(c!==757211935)if(c!==948354667)return b("unrecoverableViolation")("Attempted to call unsupported thread type","messenger_comet");else{b("ZenonUserActionLogger").logClick({component:b("bs_curry")._1(b("RTWebLoggingComponentConvert.bs").converter.toJS,0),surface:b("bs_curry")._1(b("RTWebLoggingSurfaceConvert.bs").converter.toJS,3)});return b("bs_curry")._3(u,!1,y[1],"comet_chattab_audio_button")}else{b("ZenonUserActionLogger").logClick({component:b("bs_curry")._1(b("RTWebLoggingComponentConvert.bs").converter.toJS,0),surface:b("bs_curry")._1(b("RTWebLoggingSurfaceConvert.bs").converter.toJS,3)});return b("bs_curry")._3(u,!1,y[1],"comet_chattab_audio_button")}}else if(d>=-1006227213)return 0;else return ja(void 0,0);else return Aa(0);else{c=d[0];if(c>=-45085548)if(c>=501431055)if(c!==898208488)if(c>=501431056)return b("bs_curry")._1(S,d);else{var a=d[1];b("BanzaiODS").bumpEntityKey(3185,"mwchat_send","postback");return b("bs_curry")._2(ya,a[0],a[1])}else{b("BanzaiODS").bumpEntityKey(3185,"mwchat_settings","leave_group");return ra(d[1])}else if(c>=91211743)if(c>=112234914)return b("bs_curry")._1(S,d);else{a=d[1];var e=a[1],f=a[0];b("BanzaiODS").bumpEntityKey(3185,"mwchat_settings","change_nickname");if(typeof y==="number")return 0;else{a=y[0];if(a!==757211935&&a!==948354667)return 0;var g=b("bs_curry")._2(la,f,e);a=function(a){return 0};var h=function(a){b("bs_curry")._2(la,f,g);return 0};return b("bs_curry")._5(ta,y[1],f,e,a,h)}}else if(c>=-20482460){e=d[1];a=e[1];if(y[0]!==757211935){h=y[1];if(e[0]){b("MWChatBlockMessagesMutation").commitBlock(h,a,function(a){return 0});return 0}else{b("MWChatBlockMessagesMutation").commitUnblock(h,a,function(a){return 0});return 0}}else return b("unrecoverableViolation")("Can't block a group or local thread","messenger_comet")}else{e=d[1];h=e[0];a=e[1];e=x.current;if(e==null)return 0;else return e.scrollToElement(h,a)}else if(c>=-341485885)if(c!==-268108250)if(c>=-122148607){b("bs_curry")._1(ea,function(a){return!a});return b("bs_curry")._1(da,d[1])}else return b("bs_curry")._1(S,d);else{e=d[1];return b("bs_curry")._2(ua,e[0],e[1])}else if(c!==-611266716)if(c>=-445185539){b("BanzaiODS").bumpEntityKey(3185,"mwchat_send","reply");return b("bs_curry")._1(ha,d[1])}else return b("bs_curry")._1(S,d);else return b("bs_curry")._1(xa,d[1])}};O=i.jsx(b("MWUIInThreadBanner.bs").make,{});if(typeof y==="number"||y[0]!==892012143)L=[null,null];else{var U=y[1];if(H!==void 0){var V=b("bs_caml_option").valFromOption(H),W=V.icebreakers;W=W.length!==0&&m===!0?i.jsx(i.Suspense,{children:i.jsx(ba,aa(V.icebreakers,function(a){b("BanzaiODS").bumpEntityKey(3185,"mwchat_send","text");b("bs_curry")._4(va,y,a,void 0,void 0);b("bs_curry")._1(k,0);return sa(0)},U,G,void 0,0)),fallback:i.jsx(b("CometProgressRingIndeterminate.react"),{color:"disabled",size:24})}):null}else W=null;L=[i.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWChatBusinessManageMessagesDialogForJSResource.react").__setRef("MWChatTabContainer.bs"),dialogProps:{id:U,onClose:function(a){return 0},dispatch:M},children:function(a,c){return i.jsx(b("CometLink.react"),{role:"button",style:{display:"block",fontWeight:"bold",paddingLeft:"4px"},children:g._("G\u00e9rer les messages"),ref:c,onClick:function(c){return b("bs_curry")._1(a,0)}})}}),W]}V=L[1];U=L[0];W=b("bs_curry")._1(b("MWUIContactCapabilities.bs").useCapabilities,b("bs_caml_format").caml_int64_of_string(T));L=b("bs_curry")._1(b("MWUIContactCapabilities.bs").isVerified,W)?"BLUE_VERIFIED":void 0;W=typeof J==="number"||J.tag!==2?void 0:J[0].href;var Ba=function(a,c){var d=b("bs_curry")._1(b("MWUIGetServerMessageID.bs").getServerMessageID,a.message_id);if(c)return b("XCometMessengerPhotoControllerRouteBuilder").buildURL({photo_ids:a.photo_ids,fbid:a.fbid,message_id:d});else return b("XCometMessengerMediaControllerRouteBuilder").buildURL({thread_id:T,attachment_id:a.fbid,message_id:d})},X=i.useState(function(){return}),Y=X[1];X=X[0];var Ca=i.useCallback(function(a){return b("bs_curry")._1(Y,function(a){return})},[Y]),Da=i.useCallback(function(a){return b("bs_curry")._1(Y,function(b){return a})},[Y]),Z=b("qex")._("1586110");Z=Z==null?{}:{fontSize:String(Z)+"px"};var $;if(b("cr:1665192")==null)if(b("cr:1536325")==null)$=null;else{K={id:y,items:s,header:J,otherUserFbid:z,rtcButtonDisplayState:K,showSettings:o[0],showSpinner:v,isActiveNow:C,contextBannerData:I,welcomePageData:H,unreadCount:p,isBlocked:E,isMuted:q,isViewerInGroup:ka,isTabFocused:c,isScrolledToBottomRef:w,scrollerRef:x,sheet:O,icebreakerUI:V,managePageMessagesLink:U,shouldShowMenu:t,composerType:N,dispatch:M,closeTab:F,minimizeTab:P,clickHeader:n,endFirstChatTabOpenLoggerRef:a,hasContent:d,participants:B,nicknames:A[1],pageVerificationBadge:L,reportingToken:l,repliedToMessage:D,isEmptyThread:m,openPageURL:W,buildSharedMediaViewerURL:Ba,messageRequestInfoText:i.jsx(b("MWChatComposerMessageRequestInfoText.bs").make,{closeTab:Q}),closeReplyPreview:ga,onSendMessage:r};o=b("MWChatComposerViewStateStore.bs").get(y);o!==void 0&&(K.initialComposerViewState=b("bs_caml_option").valFromOption(o));C=ca[1];C!==void 0&&(K.ongoingCallType=b("bs_caml_option").valFromOption(C));$=i.jsx(b("cr:1536325").make,K)}else $=i.jsx(b("cr:1665192").make,{items:s,id:y,otherUserFbid:z,showSpinner:v,welcomePageData:H,isTabFocused:c,isScrolledToBottomRef:w,initialComposerViewState:b("MWChatComposerViewStateStore.bs").get(y),scrollerRef:x,sheet:O,icebreakerUI:V,managePageMessagesLink:U,shouldShowMenu:t,composerType:N,dispatch:M,closeTab:F,endFirstChatTabOpenLoggerRef:a,hasContent:d,participants:B,repliedToMessage:D,buildSharedMediaViewerURL:Ba,closeReplyPreview:ga,onSendMessage:r});return i.jsx(b("MWTheme.bs").provider,{theme:X!==void 0?X:ia,setTheme:Da,clearTheme:Ca,children:i.jsxs(b("CometTransientDialogProvider.react"),{children:[i.jsx(b("CometHeroHoldTrigger.react"),{description:"MWChatTab",hold:v||J===1}),i.jsx("div",{children:$,"aria-label":b("bs_belt_Option").mapWithDefault(G,g._("Chargement de la conversation"),function(a){return g._("Discuter avec {thread_title}",[g._param("thread_title",a)])}),className:(h||(h=b("stylex")))(b("CurrentUser").isWorkUser()?b("MWChatTabContainerShared.bs").styles.workChatTab:b("MWChatTabContainerShared.bs").styles.chatTab,f?b("MWChatTabContainerShared.bs").styles.sidebarChatOverrides:!1,e?b("MWChatTabContainerShared.bs").styles.chatTabNoBottomRadius:!1,b("qex")._("1586109")?b("MWChatTabContainerShared.bs").styles.chatTabThin:!1),role:j?"main":"region",style:Z},T)]})})}c=a;f.make=c}),null);
__d("MWChatHeaderDetailsSubtitle.bs",["ix","fbt","React","fbicon","CometMiddot.react","CometTooltip.react","CometTintedIcon.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){var c=a.isMuted,d=a.isOngoingCall,e=a.isActiveNow;a=a.actorAttribution;d=d?h._("Appel en cours"):e?h._("En ligne"):a!==void 0?a:null;e=c&&d!==null?i.jsx(b("CometMiddot.react"),{}):null;a=c?i.jsx(b("CometTooltip.react"),{tooltip:h._("Cette conversation est mise en sourdine. Les onglets de conversation n\u2019appara\u00eetront pas et les notifications push sont d\u00e9sactiv\u00e9es."),align:"start",position:"above",children:i.jsx(b("CometTintedIcon.react"),{color:"fds-gray-70",icon:b("fbicon")._(g("636130"),12),testid:"comet_messenger_mute_icon"})}):null;return i.jsxs(i.Fragment,{children:[d,e,a]})}c=a;f.make=c}),null);
__d("MWChatHeaderProfile.bs",["fbt","React","stylex","bs_caml_option","MWChatProfile.bs","MWChatFacepile.bs","CometBadge.react","CometNumberedBadge.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={activeNow:{display:"mkhogb32",position:"pmk7jnqg",bottom:"eh5mwn1z",end:"s95d9cuy"},active:{display:"a8c37x1j"},unreadBadge:{end:"aew9gpjp",position:"pmk7jnqg",top:"pixltzyo",transitionDuration:"bybyf9sm",transitionProperty:"pnx7fd3z"},unreadBadgeHidden:{opacity:"b5wmifdl",transform:"w7z42tov"}};function a(a){var c=a.images,d=a.isActiveNow,e=a.size,f=a.unreadCount;a=a.children;e=e!==void 0?e:32;f=f!==void 0?f:0;a=a!==void 0?b("bs_caml_option").valFromOption(a):null;f=f>0?i.jsx("div",{children:i.jsx(b("CometNumberedBadge.react"),{value:f}),"aria-label":g._({"*":"{number} messages non lus","_1":"1 message non lu"},[g._plural(f,"number")]),className:(h||(h=b("stylex")))(j.unreadBadge)}):i.jsx("div",{"aria-hidden":!0,className:(h||(h=b("stylex")))(j.unreadBadgeHidden)});var k=c.length;if(k!==1)k=k!==0?i.jsx(b("MWChatFacepile.bs").make,{children:a,firstParticipantURI:c[0],secondParticipantURI:c[1],size:e}):i.jsx(b("MWChatProfile.bs").make,{size:e});else{c=c[0];k=i.jsx(b("MWChatProfile.bs").make,{size:e,src:c,alt:"",children:a})}return i.jsxs("div",{children:[k,f,i.jsx("div",{children:i.jsx(b("CometBadge.react"),{color:"green",isProfileBadge:!0,border:"white"}),className:(h||(h=b("stylex")))(j.activeNow,d?j.active:!1)})]})}c=a;f.styles=j;f.make=c}),null);
__d("MWChatRTCButton.bs",["fbt","bs_curry","React","BanzaiODS","stylex","bs_belt_Option","CometTooltip.react","CometPressable.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j="26px",k={isActive:{fill:"p5kwug6e"},action:{marginStart:"hnxzwevs"},joinButton:{alignItems:"bp9cbjyn",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",display:"j83agx80",height:"orb7ywq3",justifyContent:"taijpn5t",width:"la0tivve"}};function l(a,c,d,e){e=d!==void 0?d:j;d=b("bs_belt_Option").getWithDefault(c,!1);c=d?"-3":"-5";return i.jsxs("svg",{children:[i.jsx("path",{d:"M19.492 4.112a.972.972 0 00-1.01.063l-3.052 2.12a.998.998 0 00-.43.822v5.766a1 1 0 00.43.823l3.051 2.12a.978.978 0 001.011.063.936.936 0 00.508-.829V4.94a.936.936 0 00-.508-.828zM10.996 18A3.008 3.008 0 0014 14.996V5.004A3.008 3.008 0 0010.996 2H3.004A3.008 3.008 0 000 5.004v9.992A3.008 3.008 0 003.004 18h7.992z",fill:a}),d?i.jsx("circle",{className:(h||(h=b("stylex")))(k.isActive),cx:"24",cy:"10",r:"2"}):null],height:e,width:e,viewBox:""+(String(c)+" -5 30 30")})}function m(a,c,d,e){e=d!==void 0?d:j;return i.jsxs("svg",{children:[i.jsx("path",{d:"M10.952 14.044c.074.044.147.086.22.125a.842.842 0 001.161-.367c.096-.195.167-.185.337-.42.204-.283.552-.689.91-.772.341-.078.686-.105.92-.11.435-.01 1.118.174 1.926.648a15.9 15.9 0 011.713 1.147c.224.175.37.43.393.711.042.494-.034 1.318-.754 2.137-1.135 1.291-2.859 1.772-4.942 1.088a17.47 17.47 0 01-6.855-4.212 17.485 17.485 0 01-4.213-6.855c-.683-2.083-.202-3.808 1.09-4.942.818-.72 1.642-.796 2.136-.754.282.023.536.17.711.392.25.32.663.89 1.146 1.714.475.808.681 1.491.65 1.926-.024.31-.026.647-.112.921-.11.35-.488.705-.77.91-.236.17-.226.24-.42.336a.841.841 0 00-.368 1.161c.04.072.081.146.125.22a14.012 14.012 0 004.996 4.996z",fill:a}),i.jsx("path",{d:"M10.952 14.044c.074.044.147.086.22.125a.842.842 0 001.161-.367c.096-.195.167-.185.337-.42.204-.283.552-.689.91-.772.341-.078.686-.105.92-.11.435-.01 1.118.174 1.926.648.824.484 1.394.898 1.713 1.147.224.175.37.43.393.711.042.494-.034 1.318-.754 2.137-1.135 1.291-2.859 1.772-4.942 1.088a17.47 17.47 0 01-6.855-4.212 17.485 17.485 0 01-4.213-6.855c-.683-2.083-.202-3.808 1.09-4.942.818-.72 1.642-.796 2.136-.754.282.023.536.17.711.392.25.32.663.89 1.146 1.714.475.808.681 1.491.65 1.926-.024.31-.026.647-.112.921-.11.35-.488.705-.77.91-.236.17-.226.24-.42.336a.841.841 0 00-.368 1.161c.04.072.081.146.125.22a14.012 14.012 0 004.996 4.996z",fill:"none",stroke:a}),b("bs_belt_Option").getWithDefault(c,!1)?i.jsx("circle",{className:(h||(h=b("stylex")))(k.isActive),cx:"20",cy:"8",r:"2"}):null],height:e,width:e,viewBox:"-5 -5 30 30"})}function a(a){var c=a.button,d=a.background,e=a.dispatch,f=a.highlightHeader,j=a.ongoingCallType;a=j?g._("Rejoindre la discussion vid\u00e9o"):g._("Rejoindre la discussion vid\u00e9o");f=f?b("bs_belt_Option").getWithDefault(d,c):"var(--surface-background)";return i.jsx(b("CometTooltip.react"),{tooltip:a,align:"middle",position:"above",children:i.jsx(b("CometPressable.react"),{"aria-label":g._("Rejoindre la discussion vid\u00e9o"),onPress:function(a){b("BanzaiODS").bumpEntityKey(3185,"mwchat_header","video");if(j)return e(-558830706);else return e(-299071693)},overlayRadius:"50%",xstyle:function(a){return[k.action]},children:i.jsx("div",{children:j?m(f,void 0,"26px",0):l(f,void 0,"26px",0),className:(h||(h=b("stylex")))(k.joinButton),style:{backgroundColor:c,color:f}})})})}var n="startVideoCall",o="startVoiceCall";function c(a){var c=a.fill,d=a.label,e=a.disabled,f=a.size,g=a.onPress,h=a.showPresence,j=a.overlayDisabled;a=a.xstyle;e=e!==void 0?e:!1;j=j!==void 0?j:!1;var k=a!==void 0?a:[];return i.jsx(b("CometTooltip.react"),{tooltip:d,align:"middle",position:"above",children:i.jsx(b("CometPressable.react"),{"aria-label":d,disabled:e,testid:n,onPress:function(a){return b("bs_curry")._1(g,0)},overlayDisabled:j,overlayRadius:"50%",xstyle:function(a){return k},children:l(c,h,f,0)})})}function d(a){var c=a.fill,d=a.label,e=a.disabled,f=a.size,g=a.onPress,h=a.overlayDisabled;a=a.xstyle;e=e!==void 0?e:!1;h=h!==void 0?h:!1;var j=a!==void 0?a:[];return i.jsx(b("CometTooltip.react"),{tooltip:d,align:"middle",position:"above",children:i.jsx(b("CometPressable.react"),{"aria-label":d,disabled:e,testid:o,onPress:function(a){return b("bs_curry")._1(g,0)},overlayDisabled:h,overlayRadius:"50%",xstyle:function(a){return j},children:m(c,void 0,f,0)})})}e=a;a=c;c=d;f.defaultIconSize=j;f.styles=k;f.videoIcon=l;f.audioIcon=m;f.ongoingGroupCall=e;f.startVideoCallTestid=n;f.startVoiceCallTestid=o;f.video=a;f.audio=c}),null);
__d("MWChatPollFacepile.bs",["ix","React","fbicon","stylex","CometTintedIcon.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={root:{display:"j83agx80"},rootReversed:{flexDirection:"rl25f0pe"},contact:{borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv"},contactWithBoarder:{borderTop:"e6olcokw",borderEnd:"enkuubej",borderBottom:"r2474ujb",borderStart:"sxdk7pr0"},contactGapNegative:{marginStart:"pec0n382"},contactGapNormal:{marginStart:"kkf49tns"},contactLarge:{width:"bsnbvmp4",height:"k7cz35w2"},contactMedium:{width:"odw8uiq3",height:"jnigpg78"},contactSmall:{width:"gab7stmx",height:"i4qgphn6"},overflow:{backgroundColor:"g6srhlxm",color:"m9osqain",height:"i4qgphn6",borderTopStartRadius:"h1ci2mql",borderTopEndRadius:"mjfe6jtr",borderBottomEndRadius:"c6w6u7b1",borderBottomStartRadius:"hc21y3pz",paddingTop:"jb3vyjys",paddingEnd:"ph5uu5jm",paddingBottom:"qt6c0cv9",paddingStart:"qnrpqo6b",marginStart:"pec0n382",fontWeight:"ekzkrbhg"},photoWrap:{position:"l9j0dhe7",display:"q9uorilb"},overflowOverlay:{alignItems:"bp9cbjyn",backgroundColor:"s8bbyrx9",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",bottom:"i09qtzwb",display:"j83agx80",end:"n7fi1qx3",justifyContent:"taijpn5t",opacity:"ocubwz8y",overflowX:"ni8dbmo4",overflowY:"stjgntxs",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4",zIndex:"tkr6xdv7"}};function a(a){var c=a.contacts,d=a.size,e=a.gap,f=a.direction,k=a.limit,l=a.contactWithBorder;a=a.overflowStyle;var m=e!==void 0?e:812216871;e=f!==void 0?f:812216871;var n=k!==void 0?k:2,o=l!==void 0?l:!0,p=a!==void 0?a:-81194552,q=c.length>n;return i.jsxs("div",{children:[q&&p===-81194552?i.jsx("div",{children:"+"+String(c.length-2|0),className:(h||(h=b("stylex")))(j.overflow)}):null,c.slice(-(q?n:1e3)|0).reverse().map(function(a,c){return i.jsxs("div",{children:[i.jsx("img",{className:(h||(h=b("stylex")))(j.contact,d!==-20425611?d>=-9768761?j.contactSmall:j.contactLarge:j.contactMedium,o?j.contactWithBoarder:!1),src:a}),q&&!(p!==212246732||c!==(n-1|0))?i.jsx("div",{children:i.jsx(b("CometTintedIcon.react"),{color:"fds-white",icon:b("fbicon")._(g("484386"),16)}),className:(h||(h=b("stylex")))(j.overflowOverlay)}):null],className:h(j.photoWrap,m>=812216871?j.contactGapNormal:j.contactGapNegative,d!==-20425611?d>=-9768761?j.contactSmall:j.contactLarge:j.contactMedium)},String(c))})],className:(h||(h=b("stylex")))(j.root,e===28689666?j.rootReversed:!1)})}c=a;f.styles=j;f.make=c}),null);
__d("MWPollsHooks.bs",["requireCond","cr:1429240"],(function(a,b,c,d,e,f){"use strict";c=(a=b("cr:1429240")).usePollOptions;d=a.useUpdatePoll;e=a.useCreatePoll;f.$MWLSPollsHooks$OR$MWMSPollsHooks$requireCond=a;f.usePollOptions=c;f.useUpdatePoll=d;f.useCreatePoll=e}),null);